<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mRides: mRides_app.Gateways.AbstractGateway Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DoxygenLogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mRides
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classm_rides__app_1_1_gateways_1_1_abstract_gateway.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classm_rides__app_1_1_gateways_1_1_abstract_gateway-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mRides_app.Gateways.AbstractGateway Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class allows to send API calls to the server. It is a singleton since only one instance of it is required across the application.  
 <a href="classm_rides__app_1_1_gateways_1_1_abstract_gateway.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for mRides_app.Gateways.AbstractGateway:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classm_rides__app_1_1_gateways_1_1_abstract_gateway.png" usemap="#mRides_5Fapp.Gateways.AbstractGateway_map" alt=""/>
  <map id="mRides_5Fapp.Gateways.AbstractGateway_map" name="mRides_app.Gateways.AbstractGateway_map">
<area href="classm_rides__app_1_1_gateways_1_1_console_gateway.html" title="Class that corresponds to the Console class&#39; gateway. " alt="mRides_app.Gateways.ConsoleGateway" shape="rect" coords="0,56,239,80"/>
<area href="classm_rides__app_1_1_gateways_1_1_user_gateway.html" title="Class that corresponds to the user gateway. " alt="mRides_app.Gateways.UserGateway" shape="rect" coords="249,56,488,80"/>
<area href="class_unit_tests_1_1_gateways_1_1_request_gateway.html" title="This mapper class is only used for testing purposes in order to populate requests. It should never be used by the activities in the app. " alt="UnitTests.Gateways.RequestGateway" shape="rect" coords="498,56,737,80"/>
<area href="class_unit_tests_1_1_gateways_1_1_ride_gateway.html" title="The ride mapper class provides an interface for its users to perform operations on the server related..." alt="UnitTests.Gateways.RideGateway" shape="rect" coords="747,56,986,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b329aa265e60d3052363fa360870344"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm_rides__app_1_1_gateways_1_1_abstract_gateway.html#a9b329aa265e60d3052363fa360870344">SendPost&lt; T &gt;</a> (string apiEndPoint, object objectToUpdate, bool includeUserInHeader)</td></tr>
<tr class="memdesc:a9b329aa265e60d3052363fa360870344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an object of interest and an api end point, this method converts the object into a json, and sends it through a rest request to the api end point, then returns the reponse of this request  <a href="#a9b329aa265e60d3052363fa360870344">More...</a><br /></td></tr>
<tr class="separator:a9b329aa265e60d3052363fa360870344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733ffddaf3de8237bae99d1d70dcc53d"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm_rides__app_1_1_gateways_1_1_abstract_gateway.html#a733ffddaf3de8237bae99d1d70dcc53d">SendGetWithUrlSegment&lt; T &gt;</a> (string apiEndPoint, string segmentName, string segmentValue)</td></tr>
<tr class="memdesc:a733ffddaf3de8237bae99d1d70dcc53d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an api end point, a segment name and its value, this method will send a GET request to the given url, replacing the segment with its value and return the response of the request, casting it to the specified type.  <a href="#a733ffddaf3de8237bae99d1d70dcc53d">More...</a><br /></td></tr>
<tr class="separator:a733ffddaf3de8237bae99d1d70dcc53d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9164cbc523009cc62e2f20f088fc60bc"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classm_rides__app_1_1_gateways_1_1_abstract_gateway.html#a9164cbc523009cc62e2f20f088fc60bc">SendDeleteWithUrlSegment&lt; T &gt;</a> (string apiEndPoint, string segmentName, string segmentValue)</td></tr>
<tr class="memdesc:a9164cbc523009cc62e2f20f088fc60bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an api end point, a segment name and its value, this method will send a DELETE request to the given url, replacing the segment with its value and return the response of the request, casting it to the specified type.  <a href="#a9164cbc523009cc62e2f20f088fc60bc">More...</a><br /></td></tr>
<tr class="separator:a9164cbc523009cc62e2f20f088fc60bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:adfc674c85be77830e318877604698d3c"><td class="memItemLeft" align="right" valign="top"><a id="adfc674c85be77830e318877604698d3c"></a>
const string&#160;</td><td class="memItemRight" valign="bottom"><b>BaseUrl</b> = &quot;http://mrides-server.azurewebsites.net/api/&quot;</td></tr>
<tr class="separator:adfc674c85be77830e318877604698d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae396f84702b4aef3a7974018b5bd6082"><td class="memItemLeft" align="right" valign="top"><a id="ae396f84702b4aef3a7974018b5bd6082"></a>
const string&#160;</td><td class="memItemRight" valign="bottom"><b>HeaderNameUserId</b> = &quot;id&quot;</td></tr>
<tr class="separator:ae396f84702b4aef3a7974018b5bd6082"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a534ed11e063c502316a59076f603d46a"><td class="memItemLeft" align="right" valign="top"><a id="a534ed11e063c502316a59076f603d46a"></a>
static readonly string&#160;</td><td class="memItemRight" valign="bottom"><b>_accountSid</b> = null</td></tr>
<tr class="separator:a534ed11e063c502316a59076f603d46a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1398746147c8a0a3050939dae4a153"><td class="memItemLeft" align="right" valign="top"><a id="a6b1398746147c8a0a3050939dae4a153"></a>
static readonly string&#160;</td><td class="memItemRight" valign="bottom"><b>_secretKey</b> = null</td></tr>
<tr class="separator:a6b1398746147c8a0a3050939dae4a153"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class allows to send API calls to the server. It is a singleton since only one instance of it is required across the application. </p>
<hr/>
<p> Details:</p>
<p>To communicate with the server, data is sent through RestSharp requests objects. In brief, to call a method found on the server side, we access a URL, and attach data to the URL. For instance, if we wish to obtain the User object for userid = 1: <a href="http://mrides-server.azurewebsites.net/api/User/getUser/1">http://mrides-server.azurewebsites.net/api/User/getUser/1</a> will be called, and the response of that call is expected to be the User object with ID = 1. </p><hr/>
<p> Structure:</p>
<ol type="1">
<li>The private class <a class="el" href="classm_rides__app_1_1_gateways_1_1_api_end_point_url.html" title="This class contains a set of API end point URL used as parameter in various method in the AbstractGat...">ApiEndPointUrl</a> contains a list of constant strings representing the URL to access each method on the server side.</li>
<li>Multiple public static methods define the exposed interface of the server. They will be used by the app activities to make api calls. For example: if an activity needs to find the user object with userid = 1, it will call "MRidesWebApi.getUser(1)". This method will be responsible to commnicate with the server and obtain the object.</li>
<li>Multiple private static methods help the other methods to send the GET/POST/DELETE requests to the server.</li>
<li>The response may not exactly to correspond to a model object, it may contain a composition of those objects. For this purpose, the namespace <a class="el" href="namespace_m_rides_j_s_o_n.html">MRidesJSON</a> is used to contain classes that will correspond to the deserialized responses from the server side. <hr/>
 Steps to add a method to the exposed interface:</li>
</ol>
<ol type="1">
<li>Go to <a href="http://mrides-server.azurewebsites.net/swagger/index.html">http://mrides-server.azurewebsites.net/swagger/index.html</a></li>
<li>Find the method of interest to be added</li>
<li>Notice the HTTP method used (GET, POST, DELETE) and the URL used.</li>
<li>Define a public static method with the type signature corresponding to the expected data type on the server. For this, you can use objects found under /Models/ to send data.</li>
<li>The return value of this method can be known by looking at the server code, or asking the server development team about it.</li>
<li>Call the appropriate private static helper methods to send the request to the server, specifying the type that the response should be converted to.</li>
<li>Manipulate the response if necessary, and return it.</li>
</ol>
<p>In order to test those, add test cases to the <a class="el" href="namespace_unit_tests.html">UnitTests</a> project. </p><hr/>
<p> Example:</p>
<p>The server defines the following: POST | api/User/createUser and expects as parameter a User object as shown under Data Type / Example value on <a href="http://mrides-server.azurewebsites.net/swagger/index.html">http://mrides-server.azurewebsites.net/swagger/index.html</a></p>
<p>A method must then be defined for the app activities. Let's call it "CreateUser" and take a User object as a paramater (from the <a class="el" href="namespacem_rides__app_1_1_models.html">Models</a> namespace). From the server we see that such call will return the newly created user object (with its primary key ID assigned). Thus, the definition of the method will be:</p>
<p>public static User CreateUser(User newUser)</p>
<p>Since it is a POST, use the SendPost with type User, to make the call, giving it the correct URL, data (User), and in this case "false" since the user id is unknown and must not be included for this post request. Generally, this parameter is set to true.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9164cbc523009cc62e2f20f088fc60bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9164cbc523009cc62e2f20f088fc60bc">&sect;&nbsp;</a></span>SendDeleteWithUrlSegment< T >()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T mRides_app.Gateways.AbstractGateway.SendDeleteWithUrlSegment&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>apiEndPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>segmentName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>segmentValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an api end point, a segment name and its value, this method will send a DELETE request to the given url, replacing the segment with its value and return the response of the request, casting it to the specified type. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type to which the reponse content should be converted to</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apiEndPoint</td><td>API end point link</td></tr>
    <tr><td class="paramname">segmentName</td><td>Name of the segment to be replaced</td></tr>
    <tr><td class="paramname">segmentValue</td><td>Value of the segment that will replace the segment name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Response</dd></dl>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>new()</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<a id="a733ffddaf3de8237bae99d1d70dcc53d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733ffddaf3de8237bae99d1d70dcc53d">&sect;&nbsp;</a></span>SendGetWithUrlSegment< T >()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T mRides_app.Gateways.AbstractGateway.SendGetWithUrlSegment&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>apiEndPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>segmentName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>segmentValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an api end point, a segment name and its value, this method will send a GET request to the given url, replacing the segment with its value and return the response of the request, casting it to the specified type. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type to which the reponse content should be converted to</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apiEndPoint</td><td>API end point link</td></tr>
    <tr><td class="paramname">segmentName</td><td>Name of the segment to be replaced</td></tr>
    <tr><td class="paramname">segmentValue</td><td>Value of the segment that will replace the segment name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Response</dd></dl>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>new()</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<a id="a9b329aa265e60d3052363fa360870344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b329aa265e60d3052363fa360870344">&sect;&nbsp;</a></span>SendPost< T >()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T mRides_app.Gateways.AbstractGateway.SendPost&lt; T &gt; </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>apiEndPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>objectToUpdate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeUserInHeader</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an object of interest and an api end point, this method converts the object into a json, and sends it through a rest request to the api end point, then returns the reponse of this request </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Type to which the reponse content should be converted to</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apiEndPoint</td><td>API end point link</td></tr>
    <tr><td class="paramname">objectToUpdate</td><td>Object of interest to be updated</td></tr>
    <tr><td class="paramname">includeUserInHeader</td><td>true if the user id should be included in the header</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Response</dd></dl>
<div class="typeconstraint">
<dl><dt><b>Type Constraints</b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>T</em></td><td>&#160;:</td><td valign="top"><em>new()</em></td><td>&#160;</td></tr>
</table>
</dd>
</dl>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>mRides-app/mRides-app/Gateways/AbstractGateway.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacem_rides__app.html">mRides_app</a></li><li class="navelem"><a class="el" href="namespacem_rides__app_1_1_gateways.html">Gateways</a></li><li class="navelem"><a class="el" href="classm_rides__app_1_1_gateways_1_1_abstract_gateway.html">AbstractGateway</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
